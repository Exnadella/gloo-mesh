# Code generated by skv2. DO NOT EDIT.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  labels:
    app: gloo-mesh
    app.kubernetes.io/name: gloo-mesh
  name: settings.settings.mesh.gloo.solo.io
spec:
  group: settings.mesh.gloo.solo.io
  names:
    kind: Settings
    listKind: SettingsList
    plural: settings
    singular: settings
  preserveUnknownFields: false
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: Configure global settings and defaults.
          properties:
            istio:
              description: Istio-specific discovery settings
              properties:
                ingressGatewayMatcher:
                  description: |-
                    Workload labels and TLS port name used during discovery to detect ingress gateways for a mesh.
                    If not specified, will fall back to the default values specified by `IngressGatewayMatcher`.
                    To override the labels and/or TLS ports for a specific cluster, use `ingressGatewayMatcherOverrides`.
                  properties:
                    gatewayTlsPortName:
                      description: |-
                        The name of the TLS port used to detect ingress gateways. Services must have a port with this name
                        in order to be recognized as an ingress gateway during discovery.
                        If not specified, will default to `tls`.
                      type: string
                    gatewayWorkloadLabels:
                      additionalProperties:
                        type: string
                      description: |-
                        The workload labels used during discovery to detect ingress gateways for a mesh.
                        If not specified, will default to `{"istio": "ingressgateway"}`.
                      type: object
                  type: object
                ingressGatewayMatcherOverrides:
                  additionalProperties:
                    properties:
                      gatewayTlsPortName:
                        description: |-
                          The name of the TLS port used to detect ingress gateways. Services must have a port with this name
                          in order to be recognized as an ingress gateway during discovery.
                          If not specified, will default to `tls`.
                        type: string
                      gatewayWorkloadLabels:
                        additionalProperties:
                          type: string
                        description: |-
                          The workload labels used during discovery to detect ingress gateways for a mesh.
                          If not specified, will default to `{"istio": "ingressgateway"}`.
                        type: object
                    type: object
                  description: |-
                    Override the ingress gateway matchers on a per-cluster basis. The key to the map is a k8s cluster name.
                    If an entry is found for a given cluster, it will be used. Otherwise, will fall back to `ingressGatewayMatcher`.
                    If the cluster's `IngressGatewayMatcher` entry does not specify all the fields, it will fall back to the
                    `ingressGatewayMatcher` values for the missing field(s).
                  type: object
              type: object
            mtls:
              description: Configure default mTLS settings for TrafficTargets (MTLS declared in TrafficPolicies take precedence)
              properties:
                istio:
                  description: Istio TLS settings
                  properties:
                    tlsMode:
                      description: TLS connection mode
                      enum:
                      - DISABLE
                      - SIMPLE
                      - ISTIO_MUTUAL
                      type: string
                  type: object
              type: object
            networkingExtensionServers:
              description: |-
                Configure Gloo Mesh networking to communicate with one or more external gRPC NetworkingExtensions servers.
                Updates will be applied by the servers in the order they are listed (servers towards the end of the list take precedence).
                Note: Extension Servers have full write access to the output objects written by Gloo Mesh.
              items:
                properties:
                  address:
                    description: TCP address of the Networking Extensions Server (including port)
                    type: string
                  insecure:
                    description: Communicate over HTTP rather than HTTPS
                    type: boolean
                  reconnectOnNetworkFailures:
                    description: Instruct Gloo Mesh to automatically reconnect to the server on network failures
                    type: boolean
                type: object
              type: array
          type: object
        status:
          properties:
            errors:
              description: Any errors encountered while processing Settings object.
              items:
                type: string
              type: array
            observedGeneration:
              description: |-
                The most recent generation observed in the the Settings metadata.
                If the observedGeneration does not match generation, the controller has not processed the most
                recent version of this resource.
              format: int64
              type: integer
            state:
              description: |-
                The state of the overall resource.
                It will only show accepted if no processing errors encountered.
              enum:
              - PENDING
              - ACCEPTED
              - INVALID
              - FAILED
              type: string
          type: object
      type: object
  versions:
  - name: v1alpha2
    served: true
    storage: true
